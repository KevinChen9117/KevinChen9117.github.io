---
title: "untitled"
date: 2004-08-05 05:05:28 +0000
orig_url: http://advogato.org/person/pjf/diary/302.html
---
<p>
After some pain, and many hours, the new box is happily chugging away.  I took advantage of the downtime not only to upgrade the motherboard, but also the CPU and RAM, and also moving from a 2.4.18 kernel to 2.6.7.
<p>
One thing that was immediately obvious is that the 2.6.7 kernel is <i>fast</i>.  The speed at which the machine started when I loaded the new kernel was almost jaw-dropping.  However probably the most plasing thing is the speed of the hard-drives.
<p>
I'm watching our RAID rebuild itself at a swift 28M/second, which is a 650% the speed at which it used to run.  At least I hope it's rebuilding -- it could be going really fast because it's just pulling sectors off the disks and throwing them into the bit-bucket.
<p>
Some things in the upgrade didn't work quite as well.  The onboard gigabit ethernet does come with Linux drivers, but they cause a kernel panic whenever they're unloaded, or when the interface is brought down.  That's not something I'm going to put anywhre near a production machine.
<p>
The onboard 'firmware' RAID also came with Linux drivers (iteraid), which didn't seem to have made it onto the CD, but could be downloaded from the manufacturers website.  These are GPLed, and give access to the firmware RAID arrays as emulated SCSI drives.
<p>
At least, that's what they do for everyone else.  I spent more time than I care to admit tweaking, loading, unloading, and reading the source-code for these drivers trying to get them working.  They detect the hardware fine.  They cheerfully report the drives or arrays I have connected.  They just don't do anything more.  I haven't yet got the 2.6.x drivers running yet.  As such, of the four PATA channels in the machine, I can only use two.  Very frustrating.
<p>
At least I can use the on-board sound.  Maybe I'll get <a href="http://www.auralizer.com:8080/peep">peep</a> running after all.
