---
title: "Finance::Quote"
date: 2000-06-21 13:32:26 +0000
orig_url: http://advogato.org/person/pjf/diary/73.html
---
<B>Finance::Quote</b><BR>
Had a good night of hacking, and fixed a number of items I
had outstanding on my list of jobs.
<P>
One thing that had me stumped for a while was with the
Yahoo::Europe module.  Xose had provided me with a working
set of code which rolls all the hard parts of Yahoo lookups
into a common base, and even squeezes out a bunch of
complexity to boot.  However, the code Xose provided me
with, and the code that Yahoo::Europe used, didn't make use 
of all the data available from Yahoo.  I was pretty certain
there wasn't much difference between the European Yahoo
stock scripts and those from Yahoo USA, so I figured that it
should be easy to have them both fetch the same data.
<P>
Unfortunately, while the idea was simple in theory, it
proved to be a bit more of a challenge in practice.  The
data I got back on the European stocks had field mismatches
and data corruption.  Very odd, especially considering I was
getting the same information fine through the webpage.
<P>
I eventually found the problem.  F::Q was fetching the
information from Yahoo's French site, and the French
apparently use commas rather than periods as their decimal
point.  This is fine, except when exporting decimal
information into a comma-delimited file.  Fetching the
information from Yahoo UK fixed the problem immediately.
<P>
<B>Diplomacy</b><BR>
The third game has started, and I've been watching some of
the politics going on as the impartial arbitrator.  I'm
having a ball watching how everyone's trying to make things
work for them.
<P>
The game I'm playing in has just got very interesting. 
Junwei got stabbed by Phil, so the next year or so should be
very interesting.  I have to admit, Phil has guts.  He
wasn't happy just to stab the largest power in the game, he
also sent out an attack force against the second largest
power as well.  It will be interesting to see how this all
turns out.